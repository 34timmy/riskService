<div class="ui-g ui-fluid">
  <div class="ui-g-12 ui-md-4">
    <p class="fa fa-chevron-right" style="margin: 0 5px 0 0"></p>
    <p-dropdown class="" [options]="models" [(ngModel)]="selectedModel" [filter]="true"
                placeholder="Модель" [showClear]="true"
                [style]="{'width':'150px'}">
      <ng-template let-item pTemplate="selectedItem">
        <div>{{item.value}}</div>
      </ng-template>
    </p-dropdown>
  </div>

  <div class="ui-g-12 ui-md-4 ">
    <p class="fa fa-list-ol" style="margin: 0 5px 0 0"></p>
    <p-dropdown  [options]="stages" [(ngModel)]="selectedStage" [filter]="true"
                placeholder="Стадия" [showClear]="true"
                [style]="{'width':'150px'}">
      <ng-template let-item pTemplate="selectedItem">
        <div>{{item.label}}</div>
      </ng-template>
    </p-dropdown>
  </div>
  <div class="ui-g-12 ui-md-4">
    <p class="fa fa-calendar " style="margin: 0 5px 0 0"></p>
    <p-dropdown  [options]="years" [(ngModel)]="selectedYear" [filter]="true"
                placeholder="Год" [showClear]="true"
                [style]="{'width':'150px'}">
      <ng-template let-item pTemplate="selectedItem">
        <div>{{item.label}}</div>
      </ng-template>
    </p-dropdown>
  </div>
</div>
<p-pickList [source]="source" [target]="target" sourceHeader="Список компаний" targetHeader="Список выбранных компаний"
            dragdrop="true"
            dragdropScope="companies"
            [responsive]="true" [sourceStyle]="{'height':'300px'}" [targetStyle]="{'height':'300px'}"
            filterBy="name,INN"
            sourceFilterPlaceholder="Поиск по названию и ИНН" targetFilterPlaceholder="Поиск по названию и ИНН">
  <ng-template let-company pTemplate="item">
    <div class="ui-helper-clearfix">
      <button type="button" pButton icon="fa fa-edit" class="ui-button-success" style="float:right;margin: 5px 0 0 0"
              (click)="onEditCompany(company)">
      </button>
    </div>
    <div>
      <button pButton icon="fa fa-trash" style="float:right;margin: 5px 0 0 0" class="ui-button-danger "
              (click)="onDelete(company)">
      </button>
    </div>
    <div class="ui-helper-clearfix">
      <div style="font-size:14px;float:left;margin:15px 5px 0 0"><b>ID:</b> {{company.id}}</div>
    </div>
    <div class="ui-helper-clearfix">
      <div style="font-size:14px;float:left;margin:15px 5px 0 0"><b>Название:</b> {{company.name}}</div>
    </div>
    <div class="ui-helper-clearfix">
      <div style="font-size:14px;float:left;margin:15px 5px 0 0"><b>ИНН:</b> {{company.INN}}</div>
    </div>
  </ng-template>

</p-pickList>
<footer>

  <div class="ui-helper-clearfix" style="width:100%">
    <button type="button" pButton icon="fa fa-save" style="float:right;margin: 5px 0px 5px 5px "
            (click)="showSaveModal(target)" label="Сохранить список компаний">
    </button>
    <button type="button" pButton icon="fa fa-save" style="float:right;margin: 5px 0px 5px 5px "
            (click)="showCompanyList()" label="Списки компаний">
    </button>
  </div>
  <div class="ui-helper-clearfix" style="width:100%">
    <button type="button" pButton icon="fa fa-calculator" style="float:right"
            (click)="showCreateModal()" label="Рассчитать">
    </button>
  </div>
</footer>
<app-company-edit (onSaveEvent)="onSave($event)"></app-company-edit>
<app-company-list (onSaveEvent)="onSaveCompanyList($event)"></app-company-list>
<app-company-save (onSaveCompanyListEvent)="onSaveCompanyList()"></app-company-save>

<p-toast position="top-center">
  <ng-template let-message pTemplate="message">
    <div style="text-align:center">
      <i class="pi pi-exclamation-triangle" style="font-size: 3em"></i>
      <h4>{{message.summary}}</h4>
      <p>{{message.detail}}</p>
    </div>
  </ng-template>
</p-toast>
